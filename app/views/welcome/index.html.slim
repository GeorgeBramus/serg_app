/ не-не! Это всё в главный шаблон application.html.slim
/ В общем я тут всё удалил, чтобы глаза на мазолило
/ И в coffescript, и в ruby, и в slim
/ важно соблюдать отступы. Это я напоминаю просто.
/ Так что тут всё к краю смещаем, раз всё удалил.

#mapid[style="width: 600px; height: 400px;"]
script
  |  var mymap = L.map('mapid').setView([47.20722, 39.61985], 16); L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibGlmb29sZXNzIiwiYSI6ImNqOG9oaDgyaTAzMGIyeHBjZ25rcWJjeHUifQ.AHErORpLXwigXU0Kk3mLwA', { maxZoom: 18, attribution: 'Map data © <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' + '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' + 'Imagery © <a href="http://mapbox.com">Mapbox</a>', id: 'mapbox.streets' }).addTo(mymap); L.marker([47.20722, 39.61985]).addTo(mymap) .bindPopup("<b>Hello world!</b><br />Тут я живу").openPopup(); L.circle([47.20571, 39.61818], 30, { color: 'red', fillColor: '#f03', fillOpacity: 0.5 }).addTo(mymap).bindPopup("Это школьный стадион"); L.polygon([ [47.20737, 39.61843], [47.20746, 39.62119], [47.20731, 39.62119], [47.20724, 39.61844] ]).addTo(mymap).bindPopup("Это мой дом"); var popup = L.popup(); function onMapClick(e) { popup .setLatLng(e.latlng) .setContent("You clicked the map at " + e.latlng.toString()) .openOn(mymap); } mymap.on('click', onMapClick);

.block-example Блок для примера

.block-two Другой блок
